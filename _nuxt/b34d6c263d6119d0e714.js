(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{193:function(t,e,r){var content=r(218);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(20).default)("68e256f8",content,!0,{sourceMap:!1})},217:function(t,e,r){"use strict";var n=r(193);r.n(n).a},218:function(t,e,r){(t.exports=r(19)(!1)).push([t.i,".customCard[data-v-48b41263]{background:#e5e5e5;border-radius:25px}button[data-v-48b41263]{outline:none}",""])},225:function(t,e,r){"use strict";r.r(e);r(76),r(42),r(29),r(60),r(77);var n=r(53),c=(r(13),r(28));function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(source,!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={name:"ItemsList",data:function(){return{cards:[],searchedCards:[],searchDisabled:!1,searchValue:"",searchBy:"title",numOfItems:0,currentPage:0,pageSize:5,dialog:!1,loadingCards:!1}},head:{link:[{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css"}]},components:{SimpleUpload:r(198).a},computed:{searchedItems:function(){return this.searchedCards.length>0?this.searchedCards:this.cards},role:function(){return this.$store.getters.role}},created:function(){var t=this;this.cards=[],this.searchedCards=[],this.loadingCards=!0;var e="";"PROFESSOR"===this.role&&(e="&professorId="+localStorage.getItem("userId"));var r=localStorage.getItem("token");c.a.defaults.headers.common.Authorization="Bearer "+r,c.a.get("items?page=0&size="+this.pageSize+e).then((function(e){t.numOfItems=e.data.count,t.cards=e.data.data.map((function(t){return l({},t,{title:t.title,subtitle:t.description,publisherFullName:t.user.first_name+" "+t.user.last_name,role:t.user.role,src:"https://qdent-communicator.s3.us-east-2.amazonaws.com/"+localStorage.getItem("userId")+"/items/"+t.id+"/picture/picture.jpg",created:t.created.split("T")[0]+" "+t.created.split("T")[1],topics:[t.type,t.side,t.material],id:t.id})}))})).catch((function(t){})).finally((function(){t.loadingCards=!1}))},methods:{getPage:function(option){var t=this;this.cards=[],this.searchedCards=[],this.loadingCards=!0,"prev"===option?this.currentPage--:this.currentPage++;var e="";"PROFESSOR"===this.role&&(e="&professorId="+localStorage.getItem("userId"));var r="";this.searchValue?("title"===this.searchBy&&(r="&term="+this.searchValue),c.a.get("items?page="+this.currentPage+"&size="+this.pageSize+r+e).then((function(e){t.numOfItems=e.data.count,t.searchedCards=e.data.data.map((function(t){return l({},t,{title:t.title,subtitle:t.description,publisherFullName:t.user.first_name+" "+t.user.last_name,role:t.user.role,src:"https://qdent-communicator.s3.us-east-2.amazonaws.com/"+localStorage.getItem("userId")+"/items/"+t.id+"/picture/picture.jpg",created:t.created.split("T")[0]+" "+t.created.split("T")[1],topics:[t.type,t.side,t.material],id:t.id})}))})).catch((function(t){})).finally((function(){t.loadingCards=!1}))):c.a.get("items?page="+this.currentPage+"&size="+this.pageSize+e).then((function(e){t.numOfItems=e.data.count,t.cards=e.data.data.map((function(t){return l({},t,{title:t.title,subtitle:t.description,publisherFullName:t.user.first_name+" "+t.user.last_name,role:t.user.role,src:"https://qdent-communicator.s3.us-east-2.amazonaws.com/"+localStorage.getItem("userId")+"/items/"+t.id+"/picture/picture.jpg",created:t.created.split("T")[0]+" "+t.created.split("T")[1],topics:[t.type,t.side,t.material],id:t.id})}))})).catch((function(t){})).finally((function(){t.loadingCards=!1}))},searchItems:function(){var t=this;this.cards=[],this.searchedCards=[],this.loadingCards=!0,this.currentPage=0,this.searchDisabled=!0;var e="items",r="";"PROFESSOR"===this.role&&(r="professorId="+localStorage.getItem("userId"));"title"===this.searchBy&&("PROFESSOR"==this.role?e+="?"+r+"&term=":e+="?term="),c.a.get(e+this.searchValue+"&page="+this.currentPage+"&size="+this.pageSize).then((function(e){t.numOfItems=e.data.count,t.searchedCards=e.data.data.map((function(t){return l({},t,{title:t.title,subtitle:t.description,publisherFullName:t.user.first_name+" "+t.user.last_name,role:t.user.role,src:"https://qdent-communicator.s3.us-east-2.amazonaws.com/"+localStorage.getItem("userId")+"/items/"+t.id+"/picture/picture.jpg",created:t.created.split("T")[0]+" "+t.created.split("T")[1],topics:[t.type,t.side,t.material],id:t.id})}))})).catch((function(t){})).finally((function(){t.searchDisabled=!1,t.loadingCards=!1}))}}},m=(r(217),r(9)),h={name:"Topics",created:function(){},data:function(){return{}},components:{ItemsList:Object(m.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticStyle:{"min-height":"0"},attrs:{fluid:"","grid-list-lg":""}},[r("h4",{staticClass:"display-1 font-weight-medium",staticStyle:{"text-align":"center"}},[t._v("\n    Uploaded Items\n  ")]),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs6:"",md5:"",lg4:""}},[r("v-text-field",{attrs:{color:"#0bb2a7",label:"Search...","append-icon":"search"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),t._v(" "),r("v-flex",{attrs:{xs2:""}},[r("v-btn",{staticClass:"gradientBackground customBorderRadius",style:{"margin-top":"10px",cursor:t.searchDisabled||!t.searchValue?"not-allowed":"pointer"},attrs:{color:"primary",dark:"",disabled:t.searchDisabled||!t.searchValue},on:{click:t.searchItems}},[t._v("Search")])],1),t._v(" "),r("v-spacer"),t._v(" "),"ADMIN"!==t.role&&"EMPLOYEE"!==t.role&&"PROFESSOR"!==t.role?r("v-btn",{staticClass:"gradientBackground customBorderRadius",staticStyle:{"margin-top":"20px",width:"fit-content"},attrs:{color:"primary",dark:""},on:{click:function(e){return t.$router.push("uploadItem")}}},[t._v("Upload New Item")]):t._e()],1),t._v(" "),t.searchedItems.length<1&&!t.loadingCards?r("v-container",[r("div",{staticStyle:{padding:"10px",border:"1px solid grey","border-radius":"5px"}},[t._v("\n      There is no uploaded items to show yet\n    ")])]):t._e(),t._v(" "),t.loadingCards?r("v-container",[r("v-text-field",{attrs:{color:"#0bb2a7",loading:"",disabled:""}})],1):t._e(),t._v(" "),t.loadingCards?t._e():r("div",[t._l(t.searchedItems,(function(e){return[r("v-layout",{key:e.id,attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card",{staticClass:"customCard",attrs:{"elevation-3":""}},[r("v-container",{attrs:{fluid:"","grid-list-lg":""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{staticStyle:{cursor:"pointer"},attrs:{xs2:""},on:{click:function(r){return t.$router.push("/uploadedItems/"+e.id)}}},[r("v-img",{attrs:{src:e.src,contain:""},on:{error:function(t){e.src="https://qdent-communicator.s3.us-east-2.amazonaws.com/static/qdent.PNG"}}})],1),t._v(" "),r("v-flex",{attrs:{xs10:""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm3:""}},[r("div",{staticClass:"body-3 m-2"},[t._v("\n                        Customer:\n                        "+t._s(e.publisherFullName?e.publisherFullName:"-")+"\n                      ")]),t._v(" "),r("div",{staticClass:"body-3 m-2 blue--text"},[t._v("\n                        Type: "+t._s(e.type?e.type:"-")+"\n                      ")]),t._v(" "),r("div",{staticClass:"body-3 m-2 blue--text"},[t._v("\n                        Stage: "+t._s(e.stage?e.stage:"-")+"\n                      ")])]),t._v(" "),r("v-flex",{attrs:{xs12:"",sm3:""}},[r("div",{staticClass:"body-3 m-2"},[t._v("\n                        Type: "+t._s(e.type?e.type:"-")+"\n                      ")]),t._v(" "),r("div",{staticClass:"body-3 m-2"},[t._v("\n                        Code: "+t._s(e.code?e.code:"-")+"\n                      ")]),t._v(" "),r("div",{staticClass:"body-3 m-2"},[t._v("\n                        Title: "+t._s(e.title?e.title:"-")+"\n                      ")])]),t._v(" "),r("v-flex",{attrs:{xs12:"",sm3:""}},[r("div",{staticClass:"body-3 m-2"},[t._v("\n                        Patient name:\n                        "+t._s(e.patient_name?e.patient_name:"-")+"\n                      ")]),t._v(" "),r("div",{staticClass:"body-3 m-2"},[t._v("\n                        Patient Age:\n                        "+t._s(e.patient_age?e.patient_age:"-")+"\n                      ")]),t._v(" "),r("div",{staticClass:"body-3 m-2"},[t._v("\n                        Patient Gender:\n                        "+t._s(e.patient_gender?e.patient_gender:"-")+"\n                      ")])]),t._v(" "),r("v-flex",{attrs:{xs12:"",sm3:""}},[r("div",{staticClass:"body-3 m-2"},[t._v("\n                        Shade: "+t._s(e.shade?e.shade:"-")+"\n                      ")]),t._v(" "),r("div",{staticClass:"body-3 m-2"},[t._v("\n                        Number of units:\n                        "+t._s(e.number_of_units?e.number_of_units:"-")+"\n                      ")])])],1)],1)],1),t._v(" "),r("span",{staticClass:"caption grey--text",staticStyle:{float:"right"}},[t._v(t._s(e.created))])],1)],1)],1)],1)]}))],2),t._v(" "),!t.loadingCards&&t.searchedItems.length>0?r("v-layout",{attrs:{row:"",wrap:""}},[r("v-spacer"),t._v(" "),r("v-btn",{staticClass:"gradientBackground topRight",staticStyle:{width:"fit-content"},attrs:{color:"primary",dark:"",disabled:this.currentPage<1||0===this.numOfItems},on:{click:function(e){return t.getPage("prev")}}},[t._v("Previous")]),t._v(" "),r("v-btn",{staticClass:"gradientBackground topLeft",staticStyle:{width:"fit-content"},attrs:{color:"primary",dark:"",disabled:this.currentPage>=Math.ceil(this.numOfItems/this.pageSize)-1||0===this.numOfItems},on:{click:function(e){return t.getPage("next")}}},[t._v("Next")])],1):t._e()],1)}),[],!1,null,"48b41263",null).exports}},v=Object(m.a)(h,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-layout",{attrs:{column:""}},[e("v-flex",{attrs:{xs12:"",sm6:""}},[e("v-card",[e("Items-List")],1)],1)],1)}),[],!1,null,"4681114d",null);e.default=v.exports}}]);